var flatten$1=function r(e){return e instanceof Array?e.reduce(function(e,t){return t instanceof Array?e.push.apply(e,r(t)):t?e.push(t):e.push(null),e},[]):e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},defineProperty=function(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r},_extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ArrayMatrix$2=function(){var r={dataset:null,order:0,orders:[]},e={},t=[];function n(r,t,n){var o=e[r];return"number"!=typeof o[t]&&(o[t]=Object.keys(o).length),n[o[t]]instanceof Array||(n[o[t]]=[]),o[t]}function o(t){for(var n=Object.keys(t),o=new Array(r.order).fill(null),i=0,a=n.length;i<a;i++){var u=n[i],f=r.orders.indexOf(u);if(-1===f)throw new Error("Tuple Error: Axis "+u+" not found in available axes: "+r.orders.join(", ")+".");if("string"!=typeof t[u]){if("number"!=typeof t[u])throw new Error("Tuple Error: "+t[u]+" for axis "+u+" is not a valid string or integer.");o[f]=t[u]}else if(o[f]=e[u][t[u]],void 0===o[f])throw new Error("Tuple Error: Point "+[t[u]]+" not found in axis "+u+" points: "+Object.keys(e[u]).join(", "))}return o}function i(r,e){return e&&e.length?r?i(r[e.shift()],e):[]:r}return this.getAxes=function(){return Object.keys(e).reduce(function(r,t){return _extends({},r,defineProperty({},t,Object.keys(e[t])))},{})},this.getAxisPoints=function(r){return e[r]?Object.keys(e[r]):null},this.getDimension=function(e){if(!e||"object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("Dimension Error: Malformed points argument.");var n=Object.keys(e);if(n.length!==r.order-1)throw new Error("Dimension Error: "+n.length+" points provided for "+r.order+" order matrix array. The number of points must be equal to n - 1, where n is the order or rank of the matrix array.");var a=o(e),u=a.indexOf(null),f=0===u?(a.splice(0,1),t.map(function(r){return i(r,[].concat(a))})):i(t,a.slice(0,u)).map(function(r){return i(r,a.slice(u+1))});return flatten$1(f)},this.getEntry=function(e){var n=Object.keys(e);if(n.length!==r.order)throw new Error("Entry Error: "+n.length+" points provided for "+r.order+" order matrix array. The number of points must be equal to n, where n is the order or rank of the matrix array.");for(var i=o(e),a=0,u=t;a<i.length;){if(!u[i[a]])return null;u=u[i[a]],a+=1}return u[0]},this.debug=function(){return{matrix:t,axes:e,props:r}},function(o){var i=o.data,a=o.orders;return r.order=a.length,r.orders=a,r.dataset=i,function(){for(var r=a.length;r--;)e[a[r]]={}}(),i.forEach(function(e){for(var o=0,i=t;o<r.order;){var u=a[o];i=i[n(u,e[u],i)],o+=1}i.push(e)}),this}.apply(this,arguments)};export default ArrayMatrix$2;
//# sourceMappingURL=index.es.js.map
