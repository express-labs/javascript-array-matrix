var flatten$1=function r(e){return e instanceof Array?e.reduce(function(e,n){return n instanceof Array?e.push.apply(e,r(n)):n?e.push(n):e.push(null),e},[]):e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},defineProperty=function(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r},_extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},ArrayMatrix$2=function(){var r={dataset:null,order:0,orders:[]},e={},n=[];function t(r,n,t){var o=e[r];return"number"!=typeof o[n]&&(o[n]=Object.keys(o).length),t[o[n]]instanceof Array||(t[o[n]]=[]),o[n]}function o(n){for(var t=Object.keys(n),o=new Array(r.order).fill(null),i=0,a=t.length;i<a;i++){var u=t[i],f=r.orders.indexOf(u);if(-1===f)throw new Error("Tuple Error: Axis "+u+" not found in available axes: "+r.orders.join(", ")+".");if("string"!=typeof n[u]){if("number"!=typeof n[u])throw new Error("Tuple Error: "+n[u]+" for axis "+u+" is not a valid string or integer.");o[f]=n[u]}else if(o[f]=e[u][n[u]],void 0===o[f])throw new Error("Tuple Error: Point "+[n[u]]+" not found in axis "+u+" points: "+Object.keys(e[u]).join(", "))}return o}function i(r,e){return e&&e.length?r?i(r[e.shift()],e):[]:r}return this.getAxes=function(){return Object.keys(e).reduce(function(r,n){return _extends({},r,defineProperty({},n,Object.keys(e[n])))},{})},this.getAxisPoints=function(r){return e[r]?Object.keys(e[r]):null},this.getDimension=function(t){if(!t||"object"!==(void 0===t?"undefined":_typeof(t)))throw new Error("Dimension Error: Malformed points argument.");var a=Object.keys(t);if(a.length!==r.order-1)throw new Error("Dimension Error: "+a.length+" points provided for "+r.order+" order matrix array. The number of points must be equal to n - 1, where n is the order or rank of the matrix array.");var u=o(t),f=u.indexOf(null),s=function(){if(0===f)return u.splice(0,1),n.map(function(r){var e=i(r,[].concat(u));return e&&e.length?e:[null]});var t=i(n,u.slice(0,f));return t?t.map(function(r){return i(r,u.slice(f+1))}):new Array(Object.keys(e[r.orders[f]]).length).fill(null)}();return flatten$1(s)},this.getEntry=function(e){var t=Object.keys(e);if(t.length!==r.order)throw new Error("Entry Error: "+t.length+" points provided for "+r.order+" order matrix array. The number of points must be equal to n, where n is the order or rank of the matrix array.");for(var i=o(e),a=0,u=n;a<i.length;){if(!u[i[a]])return null;u=u[i[a]],a+=1}return u[0]},this.debug=function(){return{matrix:n,axes:e,props:r}},function(o){var i=o.data,a=o.orders;return r.order=a.length,r.orders=a,r.dataset=i,function(){for(var r=a.length;r--;)e[a[r]]={}}(),i.forEach(function(e){for(var o=0,i=n;o<r.order;){var u=a[o];i=i[t(u,e[u],i)],o+=1}i.push(e)}),this}.apply(this,arguments)};export default ArrayMatrix$2;
//# sourceMappingURL=index.es.js.map
