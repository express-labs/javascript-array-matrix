"use strict";var flatten$1=function t(r){return r instanceof Array?r.reduce(function(r,e){return e instanceof Array?r.push.apply(r,t(e)):e?r.push(e):r.push(null),r},[]):r},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tensor$2=function(){var c={order:0,orders:[]},l={},a=[];function i(r,e){for(var t=new Array(c.order).fill(null),o=0,n=r.length;o<n;o++){var i=r[o],f=c.orders.indexOf(i);if(-1===f)throw new Error("Vector Error: Index "+i+" not found in available indices: "+c.orders.join(", ")+".");if("string"!=typeof e[i]){if("number"!=typeof e[i])throw new Error("Vector Error: Value "+e[i]+" for index "+i+" is not a valid string or integer.");t[f]=e[i]}else if(t[f]=l[i][e[i]],void 0===t[f])throw new Error("Vector Error: Label "+[e[i]]+" not found in index "+i+" labels: "+Object.keys(l[i]).join(", "))}return t}function f(r,e){return e&&e.length?f(r[e.shift()],e):r}return this.getIndices=function(){var e={};return Object.keys(l).forEach(function(r){e[r]=Object.keys(l[r])}),e},this.getIndexLabels=function(r){return l[r]?Object.keys(l[r]):null},this.getVector=function(r){if(!r||"object"!==(void 0===r?"undefined":_typeof(r)))throw new Error("Vector Error: Malformed vertices provided.");var e=Object.keys(r);if(e.length!==c.order-1)throw new Error("Vector Error: "+e.length+" vertices provided for "+c.order+" order tensor. The number of vertices must be equal to n - 1, where n is the order of the tensor.");var t=i(e,r),o=t.indexOf(null),n=0===o?(t.splice(0,1),a.map(function(r){return f(r,[].concat(t))})):f(a,t.slice(0,o)).map(function(r){return f(r,t.slice(o+1))});return flatten$1(n)},this.getScalar=function(r){var e=Object.keys(r);if(e.length!==c.order)throw new Error("Scalar Error: "+e.length+" vertices provided for "+c.order+" order tensor. The number of vertices must be equal to n, where n is the order of the tensor.");for(var t=i(e,r),o=0,n=a;o<t.length;){if(!n[t[o]])return null;n=n[t[o]],o+=1}return n[0]},this.debug=function(){return{matrix:a,indices:l,props:c}},function(r){var e=r.data,s=r.orders;return c.order=s.length,c.orders=s,function(){for(var r=s.length;r--;)l[s[r]]={}}(),e.forEach(function(r){for(var e=0,t=a;e<c.order;){var o=s[e];t=t[(n=o,i=r[o],f=t,u=void 0,u=l[n],"number"!=typeof u[i]&&(u[i]=Object.keys(u).length),f[u[i]]instanceof Array||(f[u[i]]=[]),u[i])],e+=1}var n,i,f,u;t.push(r)}),this}.apply(this,arguments)};module.exports=Tensor$2;
//# sourceMappingURL=index.cjs.js.map
